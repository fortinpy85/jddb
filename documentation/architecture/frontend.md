# Frontend Architecture Guide

## 1. Overview

This document provides a high-level overview of the frontend architecture for the JDDB. The frontend is a modern single-page application (SPA) built with React, designed to be responsive, performant, and maintainable.

## 2. Core Technologies

- **Framework:** React 18+
- **Language:** TypeScript
- **Build Tool & Runtime:** Bun
- **Styling:** Tailwind CSS
- **State Management:** Zustand
- **UI Components:** Shadcn/UI (which uses Radix UI and Tailwind CSS)

## 3. Project Structure

The frontend codebase is organized into the following key directories within the main `/src` folder:

```
src/
├── app/              # Main application components, pages, and layouts
│   ├── (routes)/     # Route-based components (e.g., dashboard, search)
│   └── layout.tsx    # The root layout of the application
├── components/       # Reusable, general-purpose UI components
│   └── ui/           # Components generated by Shadcn/UI (e.g., Button, Card)
├── hooks/            # Custom React hooks
├── lib/              # Utility functions and library configurations
│   └── utils.ts      # General utility functions (e.g., `cn` for classnames)
├── services/         # Functions for interacting with the backend API
├── store/            # Zustand state management stores
└── index.tsx         # The main entry point of the application
```

## 4. Component Architecture

- **Reusable Components:** General-purpose components (e.g., `DataTable`, `FileUpload`) are located in `/components`. These components are designed to be application-agnostic.
- **Route-Specific Components:** Components that are specific to a particular page or route (e.g., `SearchFilters`, `DashboardStats`) are co-located with their routes in the `/app/(routes)` directory.
- **UI Primitives:** Basic UI primitives like `Button`, `Input`, `Card`, etc., are provided by Shadcn/UI and are located in `/components/ui`. These should be used whenever possible to maintain a consistent look and feel.

## 5. Styling

- **Framework:** Tailwind CSS is used for all styling.
- **Methodology:** Styling is done primarily through utility classes directly in the JSX of the components.
- **`cn` Utility:** The `cn` utility function from `/lib/utils.ts` is used to conditionally merge Tailwind CSS classes, which is particularly useful for creating component variants.

## 6. State Management

- **Library:** Zustand is used for global and cross-component state management.
- **Rationale:** Zustand was chosen for its simplicity, small bundle size, and minimal boilerplate compared to other solutions like Redux.
- **Implementation:**
    - Global stores (e.g., for user authentication state) are defined in the `/store` directory.
    - Components can subscribe to these stores to access and update state.
    - For simple, component-local state, React's built-in `useState` and `useReducer` hooks are used.

## 7. Data Fetching & API Interaction

- **Location:** All functions that interact with the backend API are located in the `/services` directory.
- **Methodology:** The native `fetch` API is used for making HTTP requests. These service functions handle the construction of the request, adding authentication headers, and parsing the JSON response.
- **Data Caching:** For caching server state, a library like React Query or SWR could be integrated in the future, but for now, caching is handled manually where needed.

## 8. Real-time Communication (Phase 2)

- **Library:** A simple WebSocket wrapper will be created in the `/services` directory to manage the connection to the backend.
- **State Integration:** The WebSocket service will interact with a dedicated Zustand store (`/store/collaborationStore.ts`) to update the application state in real-time based on messages received from the server.
