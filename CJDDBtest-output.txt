bun test v1.2.21 (7c45ed97)
🎯 JobList render - initialized: false isInitializing: false loading: false jobs.length: 2
✅ Rendering main job list UI (has job data or initialized)
🎯 JobList render - initialized: false isInitializing: false loading: false jobs.length: 2
✅ Rendering main job list UI (has job data or initialized)
🎯 JobList render - initialized: false isInitializing: false loading: false jobs.length: 2
✅ Rendering main job list UI (has job data or initialized)
🎯 JobList render - initialized: false isInitializing: false loading: false jobs.length: 2
✅ Rendering main job list UI (has job data or initialized)
🎯 JobList render - initialized: false isInitializing: false loading: false jobs.length: 2
✅ Rendering main job list UI (has job data or initialized)
🎯 JobList render - initialized: false isInitializing: false loading: false jobs.length: 0
🔄 Rendering initialization UI (not initialized and no job data)
🎯 JobList render - initialized: false isInitializing: false loading: false jobs.length: 0
🔄 Rendering initialization UI (not initialized and no job data)
🎯 JobList render - initialized: false isInitializing: false loading: false jobs.length: 2
✅ Rendering main job list UI (has job data or initialized)
🎯 JobList render - initialized: false isInitializing: false loading: false jobs.length: 2
✅ Rendering main job list UI (has job data or initialized)
🎯 JobList render - initialized: false isInitializing: false loading: false jobs.length: 2
✅ Rendering main job list UI (has job data or initialized)
🎯 JobList render - initialized: false isInitializing: false loading: false jobs.length: 2
✅ Rendering main job list UI (has job data or initialized)
🎯 JobList render - initialized: false isInitializing: false loading: false jobs.length: 2
✅ Rendering main job list UI (has job data or initialized)
🎯 JobList render - initialized: false isInitializing: false loading: false jobs.length: 2
✅ Rendering main job list UI (has job data or initialized)
🎯 JobList render - initialized: false isInitializing: false loading: false jobs.length: 2
✅ Rendering main job list UI (has job data or initialized)
🎯 JobList render - initialized: false isInitializing: false loading: false jobs.length: 2
✅ Rendering main job list UI (has job data or initialized)
🎯 JobList render - initialized: false isInitializing: false loading: true jobs.length: 0
🔄 Rendering initialization UI (not initialized and no job data)
🎯 JobList render - initialized: false isInitializing: false loading: false jobs.length: 2
✅ Rendering main job list UI (has job data or initialized)
🎯 JobList render - initialized: false isInitializing: false loading: false jobs.length: 2
✅ Rendering main job list UI (has job data or initialized)
🎯 JobList render - initialized: false isInitializing: false loading: false jobs.length: 2
✅ Rendering main job list UI (has job data or initialized)
🎯 JobList render - initialized: false isInitializing: false loading: false jobs.length: 2
✅ Rendering main job list UI (has job data or initialized)
🎯 JobList render - initialized: false isInitializing: false loading: false jobs.length: 2
✅ Rendering main job list UI (has job data or initialized)
🎯 JobList render - initialized: false isInitializing: false loading: false jobs.length: 2
✅ Rendering main job list UI (has job data or initialized)
🌐 API Request starting: GET http://localhost:8000/api/health
📋 Request options: {
  timeout: 30000,
  retries: 3,
  retryDelay: 1000,
}
🔑 API Key present: false
🔄 Attempt 1/4 for http://localhost:8000/api/health
📤 About to call fetch() with: {
  url: "http://localhost:8000/api/health",
  method: "GET",
  headers: {
    "Content-Type": "application/json",
  },
  hasBody: false,
  bodyType: "none",
}
❌ Fetch error caught: {
  name: "TypeError",
  message: "undefined is not an object (evaluating 'response.headers.entries')",
  stack: "TypeError: undefined is not an object (evaluating 'response.headers.entries')\n    at request (C:\\JDDB\\src\\lib\\api.ts:307:48)\n    at processTicksAndRejections (native:7:39)",
}
🔄 Error is retryable: false attempt: 0 maxRetries: 3
❌ Throwing final error - no more retries or not retryable
🌐 API Request starting: GET http://localhost:8000/api/health
📋 Request options: {
  timeout: 30000,
  retries: 3,
  retryDelay: 1000,
}
🔑 API Key present: false
🔄 Attempt 1/4 for http://localhost:8000/api/health
📤 About to call fetch() with: {
  url: "http://localhost:8000/api/health",
  method: "GET",
  headers: {
    "Content-Type": "application/json",
  },
  hasBody: false,
  bodyType: "none",
}
❌ Fetch error caught: {
  name: "Error",
  message: "Network error",
  stack: "Error: Network error\n    at <anonymous> (C:\\JDDB\\src\\lib\\api.test.ts:70:43)\n    at <anonymous> (C:\\JDDB\\src\\lib\\api.test.ts:69:57)",
}
🔄 Error is retryable: false attempt: 0 maxRetries: 3
❌ Throwing final error - no more retries or not retryable
🌐 API Request starting: GET http://localhost:8000/api/health
📋 Request options: {
  timeout: 30000,
  retries: 3,
  retryDelay: 1000,
}
🔑 API Key present: false
🔄 Attempt 1/4 for http://localhost:8000/api/health
📤 About to call fetch() with: {
  url: "http://localhost:8000/api/health",
  method: "GET",
  headers: {
    "Content-Type": "application/json",
  },
  hasBody: false,
  bodyType: "none",
}
❌ Fetch error caught: {
  name: "TypeError",
  message: "undefined is not an object (evaluating 'response.headers.entries')",
  stack: "TypeError: undefined is not an object (evaluating 'response.headers.entries')\n    at request (C:\\JDDB\\src\\lib\\api.ts:307:48)\n    at processTicksAndRejections (native:7:39)",
}
🔄 Error is retryable: false attempt: 0 maxRetries: 3
❌ Throwing final error - no more retries or not retryable
🌐 API Request starting: GET http://localhost:8000/api/jobs?skip=0&limit=100
📋 Request options: {
  timeout: 30000,
  retries: 3,
  retryDelay: 1000,
}
🔑 API Key present: false
🔄 Attempt 1/4 for http://localhost:8000/api/jobs?skip=0&limit=100
📤 About to call fetch() with: {
  url: "http://localhost:8000/api/jobs?skip=0&limit=100",
  method: "GET",
  headers: {
    "Content-Type": "application/json",
  },
  hasBody: false,
  bodyType: "none",
}
❌ Fetch error caught: {
  name: "TypeError",
  message: "undefined is not an object (evaluating 'response.headers.entries')",
  stack: "TypeError: undefined is not an object (evaluating 'response.headers.entries')\n    at request (C:\\JDDB\\src\\lib\\api.ts:307:48)\n    at processTicksAndRejections (native:7:39)",
}
🔄 Error is retryable: false attempt: 0 maxRetries: 3
❌ Throwing final error - no more retries or not retryable
🌐 API Request starting: GET http://localhost:8000/api/jobs?skip=20&limit=20
📋 Request options: {
  timeout: 30000,
  retries: 3,
  retryDelay: 1000,
}
🔑 API Key present: false
🔄 Attempt 1/4 for http://localhost:8000/api/jobs?skip=20&limit=20
📤 About to call fetch() with: {
  url: "http://localhost:8000/api/jobs?skip=20&limit=20",
  method: "GET",
  headers: {
    "Content-Type": "application/json",
  },
  hasBody: false,
  bodyType: "none",
}
❌ Fetch error caught: {
  name: "TypeError",
  message: "undefined is not an object (evaluating 'response.headers.entries')",
  stack: "TypeError: undefined is not an object (evaluating 'response.headers.entries')\n    at request (C:\\JDDB\\src\\lib\\api.ts:307:48)\n    at processTicksAndRejections (native:7:39)",
}
🔄 Error is retryable: false attempt: 0 maxRetries: 3
❌ Throwing final error - no more retries or not retryable
🌐 API Request starting: GET http://localhost:8000/api/jobs?skip=0&limit=100&classification=EX-01&language=EN
📋 Request options: {
  timeout: 30000,
  retries: 3,
  retryDelay: 1000,
}
🔑 API Key present: false
🔄 Attempt 1/4 for http://localhost:8000/api/jobs?skip=0&limit=100&classification=EX-01&language=EN
📤 About to call fetch() with: {
  url: "http://localhost:8000/api/jobs?skip=0&limit=100&classification=EX-01&language=EN",
  method: "GET",
  headers: {
    "Content-Type": "application/json",
  },
  hasBody: false,
  bodyType: "none",
}
❌ Fetch error caught: {
  name: "TypeError",
  message: "undefined is not an object (evaluating 'response.headers.entries')",
  stack: "TypeError: undefined is not an object (evaluating 'response.headers.entries')\n    at request (C:\\JDDB\\src\\lib\\api.ts:307:48)\n    at processTicksAndRejections (native:7:39)",
}
🔄 Error is retryable: false attempt: 0 maxRetries: 3
❌ Throwing final error - no more retries or not retryable
🌐 API Request starting: GET http://localhost:8000/api/jobs?skip=0&limit=100
📋 Request options: {
  timeout: 30000,
  retries: 3,
  retryDelay: 1000,
}
🔑 API Key present: false
🔄 Attempt 1/4 for http://localhost:8000/api/jobs?skip=0&limit=100
📤 About to call fetch() with: {
  url: "http://localhost:8000/api/jobs?skip=0&limit=100",
  method: "GET",
  headers: {
    "Content-Type": "application/json",
  },
  hasBody: false,
  bodyType: "none",
}
❌ Fetch error caught: {
  name: "Error",
  message: "Server error",
  stack: "Error: Server error\n    at <anonymous> (C:\\JDDB\\src\\lib\\api.test.ts:173:43)\n    at <anonymous> (C:\\JDDB\\src\\lib\\api.test.ts:171:55)",
}
🔄 Error is retryable: false attempt: 0 maxRetries: 3
❌ Throwing final error - no more retries or not retryable
🌐 API Request starting: GET http://localhost:8000/api/jobs/1
📋 Request options: {
  timeout: 30000,
  retries: 3,
  retryDelay: 1000,
}
🔑 API Key present: false
🔄 Attempt 1/4 for http://localhost:8000/api/jobs/1
📤 About to call fetch() with: {
  url: "http://localhost:8000/api/jobs/1",
  method: "GET",
  headers: {
    "Content-Type": "application/json",
  },
  hasBody: false,
  bodyType: "none",
}
❌ Fetch error caught: {
  name: "TypeError",
  message: "undefined is not an object (evaluating 'response.headers.entries')",
  stack: "TypeError: undefined is not an object (evaluating 'response.headers.entries')\n    at request (C:\\JDDB\\src\\lib\\api.ts:307:48)\n    at processTicksAndRejections (native:7:39)",
}
🔄 Error is retryable: false attempt: 0 maxRetries: 3
❌ Throwing final error - no more retries or not retryable
🌐 API Request starting: GET http://localhost:8000/api/jobs/999
📋 Request options: {
  timeout: 30000,
  retries: 3,
  retryDelay: 1000,
}
🔑 API Key present: false
🔄 Attempt 1/4 for http://localhost:8000/api/jobs/999
📤 About to call fetch() with: {
  url: "http://localhost:8000/api/jobs/999",
  method: "GET",
  headers: {
    "Content-Type": "application/json",
  },
  hasBody: false,
  bodyType: "none",
}
❌ Fetch error caught: {
  name: "TypeError",
  message: "undefined is not an object (evaluating 'response.headers.entries')",
  stack: "TypeError: undefined is not an object (evaluating 'response.headers.entries')\n    at request (C:\\JDDB\\src\\lib\\api.ts:307:48)\n    at processTicksAndRejections (native:7:39)",
}
🔄 Error is retryable: false attempt: 0 maxRetries: 3
❌ Throwing final error - no more retries or not retryable
🌐 API Request starting: POST http://localhost:8000/api/ingestion/upload
📋 Request options: {
  timeout: 30000,
  retries: 3,
  retryDelay: 1000,
}
🔑 API Key present: false
🔄 Attempt 1/4 for http://localhost:8000/api/ingestion/upload
📤 About to call fetch() with: {
  url: "http://localhost:8000/api/ingestion/upload",
  method: "POST",
  headers: {},
  hasBody: true,
  bodyType: "FormData",
}
❌ Fetch error caught: {
  name: "TypeError",
  message: "undefined is not an object (evaluating 'response.headers.entries')",
  stack: "TypeError: undefined is not an object (evaluating 'response.headers.entries')\n    at request (C:\\JDDB\\src\\lib\\api.ts:307:48)\n    at processTicksAndRejections (native:7:39)",
}
🔄 Error is retryable: false attempt: 0 maxRetries: 3
❌ Throwing final error - no more retries or not retryable
🌐 API Request starting: POST http://localhost:8000/api/ingestion/upload
📋 Request options: {
  timeout: 30000,
  retries: 3,
  retryDelay: 1000,
}
🔑 API Key present: false
🔄 Attempt 1/4 for http://localhost:8000/api/ingestion/upload
📤 About to call fetch() with: {
  url: "http://localhost:8000/api/ingestion/upload",
  method: "POST",
  headers: {},
  hasBody: true,
  bodyType: "FormData",
}
❌ Fetch error caught: {
  name: "TypeError",
  message: "undefined is not an object (evaluating 'response.headers.entries')",
  stack: "TypeError: undefined is not an object (evaluating 'response.headers.entries')\n    at request (C:\\JDDB\\src\\lib\\api.ts:307:48)\n    at processTicksAndRejections (native:7:39)",
}
🔄 Error is retryable: false attempt: 0 maxRetries: 3
❌ Throwing final error - no more retries or not retryable
🌐 API Request starting: POST http://localhost:8000/api/search/
📋 Request options: {
  timeout: 30000,
  retries: 3,
  retryDelay: 1000,
}
🔑 API Key present: false
🔄 Attempt 1/4 for http://localhost:8000/api/search/
📤 About to call fetch() with: {
  url: "http://localhost:8000/api/search/",
  method: "POST",
  headers: {
    "Content-Type": "application/json",
  },
  hasBody: true,
  bodyType: "String",
}
❌ Fetch error caught: {
  name: "TypeError",
  message: "undefined is not an object (evaluating 'response.headers.entries')",
  stack: "TypeError: undefined is not an object (evaluating 'response.headers.entries')\n    at request (C:\\JDDB\\src\\lib\\api.ts:307:48)\n    at processTicksAndRejections (native:7:39)",
}
🔄 Error is retryable: false attempt: 0 maxRetries: 3
❌ Throwing final error - no more retries or not retryable
🌐 API Request starting: POST http://localhost:8000/api/search/
📋 Request options: {
  timeout: 30000,
  retries: 3,
  retryDelay: 1000,
}
🔑 API Key present: false
🔄 Attempt 1/4 for http://localhost:8000/api/search/
📤 About to call fetch() with: {
  url: "http://localhost:8000/api/search/",
  method: "POST",
  headers: {
    "Content-Type": "application/json",
  },
  hasBody: true,
  bodyType: "String",
}
❌ Fetch error caught: {
  name: "TypeError",
  message: "undefined is not an object (evaluating 'response.headers.entries')",
  stack: "TypeError: undefined is not an object (evaluating 'response.headers.entries')\n    at request (C:\\JDDB\\src\\lib\\api.ts:307:48)\n    at processTicksAndRejections (native:7:39)",
}
🔄 Error is retryable: false attempt: 0 maxRetries: 3
❌ Throwing final error - no more retries or not retryable
🌐 API Request starting: GET http://localhost:8000/api/search/compare/1/2
📋 Request options: {
  timeout: 30000,
  retries: 3,
  retryDelay: 1000,
}
🔑 API Key present: false
🔄 Attempt 1/4 for http://localhost:8000/api/search/compare/1/2
📤 About to call fetch() with: {
  url: "http://localhost:8000/api/search/compare/1/2",
  method: "GET",
  headers: {
    "Content-Type": "application/json",
  },
  hasBody: false,
  bodyType: "none",
}
❌ Fetch error caught: {
  name: "TypeError",
  message: "undefined is not an object (evaluating 'response.headers.entries')",
  stack: "TypeError: undefined is not an object (evaluating 'response.headers.entries')\n    at request (C:\\JDDB\\src\\lib\\api.ts:307:48)\n    at processTicksAndRejections (native:7:39)",
}
🔄 Error is retryable: false attempt: 0 maxRetries: 3
❌ Throwing final error - no more retries or not retryable
🌐 API Request starting: GET http://localhost:8000/api/ingestion/stats
📋 Request options: {
  timeout: 30000,
  retries: 3,
  retryDelay: 1000,
}
🔑 API Key present: false
🔄 Attempt 1/4 for http://localhost:8000/api/ingestion/stats
📤 About to call fetch() with: {
  url: "http://localhost:8000/api/ingestion/stats",
  method: "GET",
  headers: {
    "Content-Type": "application/json",
  },
  hasBody: false,
  bodyType: "none",
}
❌ Fetch error caught: {
  name: "TypeError",
  message: "undefined is not an object (evaluating 'response.headers.entries')",
  stack: "TypeError: undefined is not an object (evaluating 'response.headers.entries')\n    at request (C:\\JDDB\\src\\lib\\api.ts:307:48)\n    at processTicksAndRejections (native:7:39)",
}
🔄 Error is retryable: false attempt: 0 maxRetries: 3
❌ Throwing final error - no more retries or not retryable
🌐 API Request starting: GET http://localhost:8000/api/jobs?skip=0&limit=100
📋 Request options: {
  timeout: 30000,
  retries: 3,
  retryDelay: 1000,
}
🔑 API Key present: false
🔄 Attempt 1/4 for http://localhost:8000/api/jobs?skip=0&limit=100
📤 About to call fetch() with: {
  url: "http://localhost:8000/api/jobs?skip=0&limit=100",
  method: "GET",
  headers: {
    "Content-Type": "application/json",
  },
  hasBody: false,
  bodyType: "none",
}
❌ Fetch error caught: {
  name: "Error",
  message: "Network error",
  stack: "Error: Network error\n    at <anonymous> (C:\\JDDB\\src\\lib\\api.test.ts:489:43)\n    at <anonymous> (C:\\JDDB\\src\\lib\\api.test.ts:488:42)",
}
🔄 Error is retryable: false attempt: 0 maxRetries: 3
❌ Throwing final error - no more retries or not retryable
🌐 API Request starting: GET http://localhost:8000/api/jobs?skip=0&limit=100
📋 Request options: {
  timeout: 30000,
  retries: 3,
  retryDelay: 1000,
}
🔑 API Key present: false
🔄 Attempt 1/4 for http://localhost:8000/api/jobs?skip=0&limit=100
📤 About to call fetch() with: {
  url: "http://localhost:8000/api/jobs?skip=0&limit=100",
  method: "GET",
  headers: {
    "Content-Type": "application/json",
  },
  hasBody: false,
  bodyType: "none",
}
❌ Fetch error caught: {
  name: "Error",
  message: "The operation timed out",
  stack: "Error: The operation timed out\n    at <anonymous> (C:\\JDDB\\src\\lib\\api.test.ts:495:43)\n    at <anonymous> (C:\\JDDB\\src\\lib\\api.test.ts:494:42)",
}
🔄 Error is retryable: false attempt: 0 maxRetries: 3
❌ Throwing final error - no more retries or not retryable
🌐 API Request starting: GET http://localhost:8000/api/jobs?skip=0&limit=100
📋 Request options: {
  timeout: 30000,
  retries: 3,
  retryDelay: 1000,
}
🔑 API Key present: false
🔄 Attempt 1/4 for http://localhost:8000/api/jobs?skip=0&limit=100
📤 About to call fetch() with: {
  url: "http://localhost:8000/api/jobs?skip=0&limit=100",
  method: "GET",
  headers: {
    "Content-Type": "application/json",
  },
  hasBody: false,
  bodyType: "none",
}
❌ Fetch error caught: {
  name: "TypeError",
  message: "undefined is not an object (evaluating 'response.headers.entries')",
  stack: "TypeError: undefined is not an object (evaluating 'response.headers.entries')\n    at request (C:\\JDDB\\src\\lib\\api.ts:307:48)\n    at processTicksAndRejections (native:7:39)",
}
🔄 Error is retryable: false attempt: 0 maxRetries: 3
❌ Throwing final error - no more retries or not retryable
🌐 API Request starting: GET http://localhost:8000/api/jobs?skip=0&limit=100
📋 Request options: {
  timeout: 30000,
  retries: 3,
  retryDelay: 1000,
}
🔑 API Key present: false
🔄 Attempt 1/4 for http://localhost:8000/api/jobs?skip=0&limit=100
📤 About to call fetch() with: {
  url: "http://localhost:8000/api/jobs?skip=0&limit=100",
  method: "GET",
  headers: {
    "Content-Type": "application/json",
  },
  hasBody: false,
  bodyType: "none",
}
❌ Fetch error caught: {
  name: "TypeError",
  message: "undefined is not an object (evaluating 'response.headers.entries')",
  stack: "TypeError: undefined is not an object (evaluating 'response.headers.entries')\n    at request (C:\\JDDB\\src\\lib\\api.ts:307:48)\n    at processTicksAndRejections (native:7:39)",
}
🔄 Error is retryable: false attempt: 0 maxRetries: 3
❌ Throwing final error - no more retries or not retryable
🌐 API Request starting: GET http://localhost:8000/api/jobs?skip=0&limit=100
📋 Request options: {
  timeout: 30000,
  retries: 3,
  retryDelay: 1000,
}
🔑 API Key present: false
🔄 Attempt 1/4 for http://localhost:8000/api/jobs?skip=0&limit=100
📤 About to call fetch() with: {
  url: "http://localhost:8000/api/jobs?skip=0&limit=100",
  method: "GET",
  headers: {
    "Content-Type": "application/json",
  },
  hasBody: false,
  bodyType: "none",
}
❌ Fetch error caught: {
  name: "TypeError",
  message: "undefined is not an object (evaluating 'response.headers.entries')",
  stack: "TypeError: undefined is not an object (evaluating 'response.headers.entries')\n    at request (C:\\JDDB\\src\\lib\\api.ts:307:48)\n    at processTicksAndRejections (native:7:39)",
}
🔄 Error is retryable: false attempt: 0 maxRetries: 3
❌ Throwing final error - no more retries or not retryable
🌐 API Request starting: GET http://localhost:8000/api/jobs?skip=0&limit=100
📋 Request options: {
  timeout: 30000,
  retries: 3,
  retryDelay: 1000,
}
🔑 API Key present: false
🔄 Attempt 1/4 for http://localhost:8000/api/jobs?skip=0&limit=100
📤 About to call fetch() with: {
  url: "http://localhost:8000/api/jobs?skip=0&limit=100",
  method: "GET",
  headers: {
    "Content-Type": "application/json",
  },
  hasBody: false,
  bodyType: "none",
}
❌ Fetch error caught: {
  name: "TypeError",
  message: "undefined is not an object (evaluating 'response.headers.entries')",
  stack: "TypeError: undefined is not an object (evaluating 'response.headers.entries')\n    at request (C:\\JDDB\\src\\lib\\api.ts:307:48)\n    at processTicksAndRejections (native:7:39)",
}
🔄 Error is retryable: false attempt: 0 maxRetries: 3
❌ Throwing final error - no more retries or not retryable
🌐 API Request starting: POST http://localhost:8000/api/ingestion/upload
📋 Request options: {
  timeout: 30000,
  retries: 3,
  retryDelay: 1000,
}
🔑 API Key present: false
🔄 Attempt 1/4 for http://localhost:8000/api/ingestion/upload
📤 About to call fetch() with: {
  url: "http://localhost:8000/api/ingestion/upload",
  method: "POST",
  headers: {},
  hasBody: true,
  bodyType: "FormData",
}
❌ Fetch error caught: {
  name: "TypeError",
  message: "undefined is not an object (evaluating 'response.headers.entries')",
  stack: "TypeError: undefined is not an object (evaluating 'response.headers.entries')\n    at request (C:\\JDDB\\src\\lib\\api.ts:307:48)\n    at processTicksAndRejections (native:7:39)",
}
🔄 Error is retryable: false attempt: 0 maxRetries: 3
❌ Throwing final error - no more retries or not retryable
